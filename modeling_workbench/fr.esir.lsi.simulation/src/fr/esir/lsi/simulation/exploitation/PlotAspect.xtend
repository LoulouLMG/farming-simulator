package fr.esir.lsi.simulation.exploitation

import exploitation.Plot
import fr.esir.lsi.simulation.utils.IrrigationRule
import fr.inria.diverse.k3.al.annotationprocessor.Aspect
import java.util.Date

@Aspect(className=Plot)
class PlotAspect {

	def float getWaterNeeded(Date date) {
		var result = 0

		var fwt = IrrigationRule.getHydricDeficit(date, IrrigationRule.k)

		if (fwt > IrrigationRule.fwi) {
			return IrrigationRule.dose
		}

		return result

	}

}
