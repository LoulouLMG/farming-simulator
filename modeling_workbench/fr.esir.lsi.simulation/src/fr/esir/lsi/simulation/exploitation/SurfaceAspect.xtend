package fr.esir.lsi.simulation.exploitation

import exploitation.Surface
import fr.inria.diverse.k3.al.annotationprocessor.Aspect
import java.util.Date

import static extension fr.esir.lsi.simulation.exploitation.PlotAspect.*
import static extension fr.esir.lsi.simulation.exploitation.WorkshopAspect.*

@Aspect(className=Surface)
class SurfaceAspect {

	def boolean isCorn() {
		return _self.atelier.isCorn

	}

	def int getHa() {
		var result = 0;

		for (p : _self.parcelle) {
			result += p.hectare
		}

		return result

	}

	def float getWaterNeeded(Date date) {

		var float result = 0

		if (!_self.isCorn) {
			return result
		}
		for (p : _self.parcelle) {
			result += p.getWaterNeeded(date)
		}

		return result
	}

}
